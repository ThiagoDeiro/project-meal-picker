(this["webpackJsonpproject-meal-picker"]=this["webpackJsonpproject-meal-picker"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(18),c=a.n(r),l=(a(46),a(2)),i=a(3),o=a(5),u=a(4),m=a(6),h=(a(47),a(14)),d=a(11),p=(a(48),a(8)),g=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e)),console.log(a.props.items.length),a.state={selectedItem:null,wheelRefs:[]},a.selectItem=a.selectItem.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState((function(t){return Object(h.a)({},t,{wheelRefs:e.items.map((function(e){return s.a.createRef()}))})}))}},{key:"selectItem",value:function(){if(null===this.state.selectedItem){var e=Math.floor(Math.random()*this.props.items.length);this.props.onSelectItem&&this.props.onSelectItem(e),this.setState({selectedItem:e})}else this.setState({selectedItem:null}),setTimeout(this.selectItem,500)}},{key:"render",value:function(){var e=this;console.log("render: "+this.props.items.length);var t=this.state.selectedItem,a=this.props.items,n={"--nb-item":a.length,"--selected-item":t},r=null!==t?"spinning":"";return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"wheel-container"},s.a.createElement("div",{className:"wheel ".concat(r),ref:this.wheelRef,style:n,onClick:function(){e.selectItem()}},a.map((function(e,t){return s.a.createElement("div",{className:"wheel-item",key:e.id,style:{"--item-nb":t}},e.name)})))),s.a.createElement("h2",null,"Let's eat ",s.a.createElement(p.a,{to:"/cuisine/".concat(this.state.selectedItem?a[this.state.selectedItem].id:null)}," ",this.state.selectedItem&&a[this.state.selectedItem].name)))}}]),t}(s.a.Component);g.defaultProps={items:[{0:{name:"",id:null}}]};var f=g,v=a(9),b=a.n(v),E=a(19),y=a.n(E),_=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).getHour=function(){var t=(new Date).getHours();e.setState({hour:t})},e.places=["Thai","Italian","Japanese","Brazillian","Mexican","Fastfood","Chinese","Pizza","Healthy"],e.state={favCuisines:[],hour:null},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;b()({method:"GET",url:"https://developers.zomato.com/api/v2.1/cuisines?city_id=260",headers:{"user-key":"ce01c524c280392f934d5bb8228b2277","content-type":"application/json"}}).then((function(t){var a=t.data.cuisines;e.setState({favCuisines:a})})).catch((function(e){console.log(e)})),this.getHour()}},{key:"render",value:function(e){var t=y.a.sampleSize(this.state.favCuisines,15).map((function(e){return{name:e.cuisine.cuisine_name,id:e.cuisine.cuisine_id}}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"App"},s.a.createElement("h1",null,"What should I eat for",this.state.hour<10?" breakfast":this.state.hour>14?" dinner":" lunch"," ?"),s.a.createElement(f,{items:t})))}}]),t}(s.a.Component),N=(a(73),a(74),a(103)),j=a(104),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"card-container"},s.a.createElement("div",{className:"heart"},s.a.createElement(N.a,null)),s.a.createElement("div",{className:"card-img"},s.a.createElement("img",{className:"img-fluid",src:this.props.card_img,alt:" "})),s.a.createElement("span",{className:"card-link"},s.a.createElement("div",{className:"card-img--hover"}),s.a.createElement("div",{className:"card-info"},s.a.createElement("span",{className:"cuisine"},this.props.cuisine),s.a.createElement("h3",{className:"resturant-title"},this.props.resturant_title),s.a.createElement("div",{className:"location"},s.a.createElement("div",{className:"pin"},s.a.createElement(j.a,null)),s.a.createElement("span",{className:"location_name"},this.props.location_name)))))}}]),t}(s.a.Component),k=(a(75),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={cityData:[],searchInput:" "},a.searchHandler=function(e){var t=e.target.value;a.setState((function(e){return Object(h.a)({},e,{searchInput:t})}))},a.handleChange=function(){b()({method:"GET",url:"https://developers.zomato.com/api/v2.1/search?entity_id=260&entity_type=city&q=".concat(a.state.searchInput),headers:{"user-key":"c5ff9358cc3104a45cd8df377b24b5a3","content-type":"application/json"}}).then((function(e){var t=e.data.restaurants;a.setState({cityData:t}),console.log(t)})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.cityData.map((function(e){return e.restaurant})).map((function(e){return s.a.createElement("div",{className:"col-4",key:e.id},s.a.createElement(p.a,{class:"card-link",to:"/restaurant/"+e.id},s.a.createElement(S,{resturant_title:e.name,cuisine:e.cuisines,location_name:e.location.address,card_img:e.featured_image})))}));return s.a.createElement("div",{className:"container search-results"},s.a.createElement("div",{class:"row"},s.a.createElement("input",{type:"text",className:"form-control form-control-lg col-6 offset-2",placeholder:"What do you like to eat?",onChange:this.searchHandler}),s.a.createElement("button",{className:"btn btn-primary btn-lg col-1",onClick:this.handleChange},"Search")),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},e)))}}]),t}(s.a.Component)),O=a(10),w=a.n(O),C=(a(77),a(15)),x=a(16),I=a(39),z=a.n(I),A=(a(99),function(e){var t=e.color,a=e.name;e.id;return s.a.createElement("div",{className:"marker",style:{backgroundColor:t,cursor:"pointer"},title:a})}),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={res_info:[],res_tags:[],address:"",center:{lat:0,lng:0},zoom:18,showCreditCard:!1,showTakeaway:!1,showKid:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,s=this;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return"ce01c524c280392f934d5bb8228b2277",r.next=3,w.a.awrap(b()({method:"GET",url:"https://developers.zomato.com/api/v2.1/restaurant?res_id=".concat(this.props.id),headers:{"user-key":"ce01c524c280392f934d5bb8228b2277","content-type":"application/json"}}).then((function(e){var t=e.data;s.setState({res_info:t})})).catch((function(e){console.log(e)})));case 3:e=(e=this.state.res_info.cuisines).split(", "),console.log(e),this.setState({res_tags:e}),t=this.state.res_info.location.address,this.setState({address:t}),a=parseFloat(this.state.res_info.location.latitude),n=parseFloat(this.state.res_info.location.longitude),this.setState({center:{lat:a,lng:n}}),this.displayHighlight();case 13:case"end":return r.stop()}}),null,this)}},{key:"displayHighlight",value:function(){this.state.res_info.highlights.includes("Credit Card")&&this.setState({showCreditCard:!0}),this.state.res_info.highlights.includes("Takeaway Available")&&this.setState({showTakeaway:!0}),this.state.res_info.highlights.includes("Kid Friendly")&&this.setState({showKid:!0})}},{key:"render",value:function(){var e=this.state.res_info.photos;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container-fluid gal-holder no-gutters p-0"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-lg-6 col-md-9 col-sm-12"},s.a.createElement("img",{className:"img-fluid featured-img",src:this.state.res_info.featured_image})),s.a.createElement("div",{className:"col-3 no-gutters"},e&&e.slice(0,2).map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-12"},s.a.createElement("img",{className:"img-fluid small-img",src:e.photo.url})))}))),s.a.createElement("div",{className:"col-3 no-gutters"},e&&e.slice(2,4).map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-12"},s.a.createElement("img",{className:"img-fluid small-img",src:e.photo.url})))}))))),s.a.createElement("div",{className:"container res-details"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6 text-left"},this.state.res_tags.map((function(e){return s.a.createElement("span",{className:"badge badge-dark"},e)})),s.a.createElement("h1",{className:"res-name"},this.state.res_info.name),s.a.createElement("div",{className:"highlight"},this.state.showCreditCard?s.a.createElement("div",{className:"highlight-item col-4 text-center"},s.a.createElement(C.a,{icon:x.b,size:"2x"}),s.a.createElement("p",null,"Accept Credit card")):"",this.state.showTakeaway?s.a.createElement("div",{className:"highlight-item col-4 text-center"},s.a.createElement(C.a,{icon:x.c,size:"2x"}),s.a.createElement("p",null,"Takeaway available")):"",this.state.showKid?s.a.createElement("div",{className:"highlight-item col-4 text-center"},s.a.createElement(C.a,{icon:x.a,size:"2x"}),s.a.createElement("p",null,"Kid Friendly ")):""),s.a.createElement("h3",null,"Opening Hours"),this.state.res_info.timings),s.a.createElement("div",{className:"col-6 text-left"},s.a.createElement("p",{className:"address"},s.a.createElement("span",{className:"pin"},s.a.createElement(j.a,null)),this.state.address),s.a.createElement("div",{className:"map-holder",style:{height:"450px",width:"100%"}},s.a.createElement(z.a,{bootstrapURLKeys:{key:"AIzaSyCSiEcD8DEt-tw_ubWXsZFDkIei5gGpbCM"},center:this.state.center,zoom:this.state.zoom,text:this.state.res_info.name},s.a.createElement(A,{lat:this.state.center.lat,lng:this.state.center.lng,name:this.state.res_info.name,color:"#FFD000"})))))))}}]),t}(s.a.Component),R=(a(100),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement(s.a.Fragment,null,s.a.createElement("li",{className:"nav-item"},s.a.createElement(p.a,{className:"nav-link",to:"/"},s.a.createElement("img",{className:"logo",alt:"logo",src:"../logo.svg"}))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(p.a,{className:"nav-link menu-text",to:"/search/"},"Search")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(p.a,{className:"nav-link menu-text",to:"/searchlocation/"},"Search by Location")))))}}]),t}(s.a.Component)),T=(a(101),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={cuisine_info:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"ce01c524c280392f934d5bb8228b2277",t.next=3,w.a.awrap(b()({method:"GET",url:"https://developers.zomato.com/api/v2.1/search?entity_id=260&entity_type=city&cuisines=".concat(this.props.id,"&sort=rating&order=asc"),headers:{"user-key":"ce01c524c280392f934d5bb8228b2277","content-type":"application/json"}}).then((function(t){var a=t.data.restaurants;e.setState({cuisine_info:a}),console.log(e.state.cuisine_info)})).catch((function(e){console.log(e)})));case 3:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.cuisine_info.map((function(e){return e.restaurant})).map((function(e){return s.a.createElement("div",{className:"col-4",key:e.id},s.a.createElement(p.a,{className:"card-link",to:"/restaurant/"+e.id},s.a.createElement(S,{resturant_title:e.name,cuisine:e.cuisines,location_name:e.location.locality,card_img:e.featured_image})))}));return s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,s.a.createElement("mark",null,"Search Results")),s.a.createElement("div",{className:"row"},e)))}}]),t}(s.a.Component)),D=a(17),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={value:"",location:"",longitude:"",latitude:"",street_number:"",street_name:"",suburb:"",region:"",formatted_address:"",myLocLong:"",myLocLat:"",resolvedLoc:"",resolvedSuburb:"",entity_id:"",entity_type:"",searchResult:"",restaurant_name:[],restaurant_location:[],restaurant_photo:[],cuisines_available:[],selected_category:"Takeaway",searchResults:[]},a.googleApi="AIzaSyAnhc0QVawRAJP9z0c07bkJCp8wyoai_gk",a.handleChangeStreetNo=a.handleChangeStreetNo.bind(Object(d.a)(a)),a.handleChangeStreetName=a.handleChangeStreetName.bind(Object(d.a)(a)),a.handleChangeSuburb=a.handleChangeSuburb.bind(Object(d.a)(a)),a.handleChangeState=a.handleChangeState.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChangeStreetNo",value:function(e){this.setState({street_number:e.target.value})}},{key:"handleChangeStreetName",value:function(e){this.setState({street_name:e.target.value})}},{key:"handleChangeSuburb",value:function(e){this.setState({suburb:e.target.value})}},{key:"handleChangeState",value:function(e){this.setState({region:e.target.value})}},{key:"drawMap",value:function(){document.createElement("div")}},{key:"handleSubmit",value:function(e){var t=this,a="".concat(this.state.street_number).concat(this.state.street_name.replace(/\s/g,"+"),",+").concat(this.state.suburb.replace(/\s+/g,"+"),",+").concat(this.state.region.replace(/\s+/g,"+"),"+Australia");b()("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(a,"&key=").concat(this.googleApi)).then((function(e){var a=e.data,n=a.results[0].geometry.location.lng,s=a.results[0].geometry.location.lat,r=a.results[0].formatted_address;t.setState({longitude:n}),t.setState({latitude:s}),t.setState({formatted_address:r})})).then((function(e){var a;return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(b()({method:"GET",url:"https://developers.zomato.com/api/v2.1/locations?query=".concat(t.state.region,"&lat=").concat(t.state.latitude,"&lon=").concat(t.state.longitude),headers:{"user-key":"ac7e711aadc63ab23f578cab5c3051d4","content-type":"application/json"}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}))})).then((function(e){var a=e.data.location_suggestions[0].entity_id,n=e.data.location_suggestions[0].entity_type;t.setState({entity_id:a}),t.setState({entity_type:n}),console.log(a),console.log(n)})).then((function(e){var a;return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(b()({method:"GET",url:"https://developers.zomato.com/api/v2.1/search?entity_id=".concat(t.state.entity_id,"&entity_type=").concat(t.state.entity_type,"&count=5"),headers:{"user-key":"ac7e711aadc63ab23f578cab5c3051d4","content-type":"application/json"}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}))})).then((function(e){var a=e.data.restaurants;console.log("searchResult",a),t.setState({searchResults:a}),a.forEach((function(e){console.log(e);var a=e.restaurant.name,n=e.restaurant.location.address,s=e.restaurant.photos[0].photo.url?e.restaurant.photos[0].photo.url:"https://b.zmtcdn.com/data/reviews_photos/947/0d02c61e2f22f4b2859535d712286947_1525861858.jpg";console.log(n),t.setState({restaurant_name:[].concat(Object(D.a)(t.state.restaurant_name),[a])}),t.setState({restaurant_location:[].concat(Object(D.a)(t.state.restaurant_location),[n])}),t.setState({restaurant_photo:[].concat(Object(D.a)(t.state.restaurant_photo),[s])})}))})),console.log("".concat(this.state.latitude,",").concat(this.state.longitude)),e.preventDefault()}},{key:"render",value:function(){return s.a.createElement("div",{className:"main-container"},s.a.createElement("h1",null,"address"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"Street no "),s.a.createElement("input",{type:"text",name:"street_no",onChange:this.handleChangeStreetNo}),s.a.createElement("label",null,"Street Name "),s.a.createElement("input",{type:"text",name:"street_name",onChange:this.handleChangeStreetName}),s.a.createElement("label",null,"Suburb/City"),s.a.createElement("input",{type:"text",name:"suburb",onChange:this.handleChangeSuburb}),s.a.createElement("label",null,"State"),s.a.createElement("input",{type:"text",name:"state",onChange:this.handleChangeState}),s.a.createElement("input",{type:"submit",value:"Submit"}),s.a.createElement("br",null)),s.a.createElement("div",null,this.state.searchResults.map((function(e){return s.a.createElement("div",null,s.a.createElement(S,{resturant_title:e.restaurant_name}),s.a.createElement("div",null,"Restaurant name"),s.a.createElement("div",null,e.restaurant.name),s.a.createElement("div",null,"Cuisine"),s.a.createElement("div",null,e.restaurant.location.address),e.restaurant.photos.map((function(e){return s.a.createElement("img",{src:e.photo.url,height:"200px",width:"200px",alt:"restaurant"})})))}))))}}]),t}(s.a.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(R,null),s.a.createElement(p.b,null,s.a.createElement(_,{path:"/"}),s.a.createElement(k,{path:"/search/"}),s.a.createElement(F,{path:"/restaurant/:id"}),s.a.createElement(T,{path:"/cuisine/:id"}),s.a.createElement(H,{path:"/searchlocation/"})))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},41:function(e,t,a){e.exports=a(102)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},99:function(e,t,a){}},[[41,1,2]]]);
//# sourceMappingURL=main.7407e580.chunk.js.map